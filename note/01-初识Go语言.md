# 初识Go语言

![t0186cefa2e3fadc39c](https://github.com/SOYANGA/Let-s-go-/blob/master/picture/2.png)



Go语言希望成为互联网时代的C语言。多数操作系统级语言（包括Java,C#）的根本变成哲学来自C++。将C++面向对象的哲学发扬光大，Go语言则认为值得学习的是C语言，因此，Go语言也要足够简单！

互联网时代的典型特点：

**并行与分布式支持**，多核化和集群化是互联网时代的典型特点。作为一个互联网时代的C语言，必须要让这门语言操作多核计算机集群如图操作单机一样容易。而且互联网时代的C语言还需要考虑**软件品质和团队协作**相关的话题。

## 并发与分布式

### 并发执行体

并发执行体，执行体是一个抽象概念，操作系统有多个概念与之对应，进程（process）、进程内的线程（Thread）以及进程内的协程(coroutine,也叫轻量级线程)。

Go语言从语言级别支持协程，叫goroutine。Go语言标准库提供的所有系统调用(syscall)操作，当然也包括所有同步IO操作，都会让CPU给其他goroutine,这让事情变得非常简单。



### 执行体之间的通信

- 执行体之间的互斥与同步
- 执行体之间的消息传递

#### 执行体之间的互斥与同步

当执行体之间存在共享资源（一般是共享内存）时，为了保证内存访问逻辑的确定性，需要对访问共享资源的相关执行进行互斥。当多个执行体之间的访问逻辑的确定性，也往往需要再执行体之间进行同步。**互斥与同步是执行体最基础得到交互方式。**



#### 执行体之间的消息传递

并发模型的选择上，有两个流派，一个是共享内存模型，一个是消息传递模型。多数传统语言选择了前者。消息传递模型最经典的代表就是Erlang语言。业界有专门的术语叫“Erlang风格的并发模型”，其主要思想是两点：一是“轻量级的进程”；二是：消息乃进程间通信的唯一方式。当执行体之间需要相互传递消息时，通常需要基于一个消息队列(message queue)或者进程邮箱(process mail box)这样的设施进行通信。

Go语言推荐采用“Erlang风格的并发模型”的编程范式，尽管传统的“共享内存模型”仍然被保留，允许适度地使用。

**Go语言中内置了消息队列的支持，只不过它叫通道(channel)。两个gorouting之间可以通过通道来进行交互。**



## 软件工程

单机时代的语言可以只关心问题本身的解决，随着工程规模的不断扩大，软件复杂度不断增加，软件工程也成为语言设计层面要考虑的重要话题。

多数软件需要团队去共同完成，再团队协作过程中，人们需要建立统一的交互语言来降低沟通的成本。规范化体现了多个层面，如：

- **代码风格规范**
- **错误处理规范**
- **包管理**
- **契约规范（接口）**
- **单元测试规范**
- **功能开发的流程规范**



例如：

- public的变量必须以大写字母开头，private变量则以小写字母开头——不但省略了public,private关键字，更重要的是统一了命名风格。
- 花括号{ }有严格强制要求

```
if expression{
//正确
}
```

```
if expression
{
//错误
}
```





## 编程哲学

站在编程范式的角度上来讲，**Go语言是变革派，而不是改良派。**

**Go语言反对函数和操作符重载(overload)**

**Go语言支持类，类成员的方法，类的组合，但是反对继承，反对虚函数和虚函数重载。Go提供继承，只不过是采用组合的文法来提供：**

```
type Foo struct {
 Base
 ...
}
func (foo * FOO) Bar() {

}
```

**Go也放弃了构造函数和析构函数。**

Go语言支持接口，与其他语言最大的一点区别就是它是**非侵入式**的。

实现类的时候无需从接口派生，只要类实现了接口要求的所有方法，就实现了该接口，可以进行赋值。

看似文法上的小小调整，其实影响不小：

1. Go语言标准库不再需要绘制类图的继承树图，你只需要知道这个类实现了那些方法，每个方法什么含义就足够了。
2. 不要纠结接口需要拆得多细才合理。
3. 不用为了实现一个接口而专门去导入一个包，而目的仅仅式引用其中的某个接口的定义。在Go语言中，只要两个接口拥有相同的方法列表，那么它们就等同的，可以互相赋值。
   - 引用另一个包中的接口而导入这个包的做法不被推荐，因为多引用一个外部的包，就意味着更多的耦合。



> 除了OOP外，近年来出现了一些小众的编程哲学，go语言对于这些思想亦有所吸收。例如：Go语言接收了函数式编程的一些想法，支持匿名函数和闭包。再如，Go语言接收了Erlang语言为代表的面向消息编程思想。支持gorouting和channel。并推荐使用消息而不是共享内存来进行并发编程。

**总体来说Go语言是一个非常现代化的语言，精小但非常强大！**



## Go 语言最主要的特性：

- 自动垃圾回收
- 更丰富的内置类型
- 函数多返回值
- 错误处理
- 匿名函数和闭包
- 类型和接口
- 并发编程
- 反射
- 语言交互性